{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Marginal1\\\\Desktop\\\\react-stroyka\\\\client\\\\src\\\\pages\\\\Category\\\\Category.tsx\",\n  _s = $RefreshSig$();\nimport SideFilter from '../../components/SideFilter/SideFilter';\nimport Headline from '../../components/Headline/Headline';\nimport CategoryMain from '../../components/CategoryMain/CategoryMain';\nimport SideSkeleton from '../../components/Skeletons/SideSkeleton';\nimport MobileSideWrapper from '../../components/MobileSideWrapper/MobileSideWrapper';\nimport { useScrollToTop } from '../../hooks/useScrollToTop';\nimport EmptyPage from '../EmptyPage/EmptyPage';\nimport { useErrorHandler } from '../../hooks/useErrorHandler';\nimport clsx from 'clsx';\nimport { useParams } from 'react-router-dom';\nimport { useGetCategoryItemsQuery } from '../../redux/injected/injectedCategory';\nimport style from './Category.module.scss';\nimport { useSort } from '../../hooks/useSort';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Category = _ref => {\n  _s();\n  let {\n    categoryData\n  } = _ref;\n  useScrollToTop();\n  const {\n    type = ''\n  } = useParams();\n  let res = {\n    title: '',\n    path: ''\n  };\n  categoryData.forEach(obj => obj.list.forEach(obj => obj.path.split('/')[1] === type ? res = obj : null));\n  const {\n    sortState\n  } = useSort();\n  const queryParams = {\n    type: type,\n    sortParams: sortState.title\n  };\n  const {\n    data = [],\n    isSuccess,\n    isLoading,\n    isError,\n    error\n  } = useGetCategoryItemsQuery(queryParams);\n  const errorData = useErrorHandler({\n    error,\n    isError\n  });\n  const errorObj = {\n    title: errorData.status,\n    subtitle: 'Произошла ошибка',\n    descr: `Произошла ошибка при получении товаров ${res.title} попробуйте обновить страницу или зайдите позже`,\n    link_txt: 'Каталог',\n    path: '/catalog'\n  };\n  const emptyObj = {\n    title: 'Упс!',\n    subtitle: 'Категория пуста',\n    descr: `К сожалению в категории ${res.title} нет товаров, но мы уже работаем над расширением ассортимента`,\n    link_txt: 'Каталог',\n    path: '/catalog'\n  };\n  const breadcrumbsArr = [{\n    path: '/',\n    title: 'Главная',\n    type: 'link'\n  }, {\n    title: '→',\n    type: 'seperator'\n  }, {\n    path: '/catalog',\n    title: 'Каталог',\n    type: 'link'\n  }, {\n    title: '→',\n    type: 'seperator'\n  }, {\n    path: ' ',\n    title: res.title,\n    type: 'link'\n  }];\n  const headData = {\n    breadcrumbs: breadcrumbsArr,\n    title: res.title\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: style['category'],\n      children: [/*#__PURE__*/_jsxDEV(Headline, {\n        ...headData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: clsx(style['category-container'], 'container'),\n        children: [/*#__PURE__*/_jsxDEV(SideSkeleton, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(CategoryMain, {\n          data: data,\n          isLoading: isLoading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this);\n  } else if (isError) {\n    return /*#__PURE__*/_jsxDEV(EmptyPage, {\n      ...errorObj\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 16\n    }, this);\n  } else if (isSuccess && !data.length) {\n    return /*#__PURE__*/_jsxDEV(EmptyPage, {\n      ...emptyObj\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 16\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: style['category'],\n      children: [/*#__PURE__*/_jsxDEV(Headline, {\n        ...headData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: clsx(style['category-container'], 'container'),\n        children: [/*#__PURE__*/_jsxDEV(MobileSideWrapper, {\n          children: /*#__PURE__*/_jsxDEV(SideFilter, {\n            data: data,\n            withSearch: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 40\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(CategoryMain, {\n          data: data,\n          isLoading: isLoading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this);\n  }\n};\n_s(Category, \"EylM4dyi6gbzAbEY3tD09+aJ06A=\", false, function () {\n  return [useScrollToTop, useParams, useSort, useGetCategoryItemsQuery, useErrorHandler];\n});\n_c = Category;\nexport default Category;\nvar _c;\n$RefreshReg$(_c, \"Category\");","map":{"version":3,"names":["SideFilter","Headline","CategoryMain","SideSkeleton","MobileSideWrapper","useScrollToTop","EmptyPage","useErrorHandler","clsx","useParams","useGetCategoryItemsQuery","style","useSort","Category","categoryData","type","res","title","path","forEach","obj","list","split","sortState","queryParams","sortParams","data","isSuccess","isLoading","isError","error","errorData","errorObj","status","subtitle","descr","link_txt","emptyObj","breadcrumbsArr","headData","breadcrumbs","length"],"sources":["C:/Users/Marginal1/Desktop/react-stroyka/client/src/pages/Category/Category.tsx"],"sourcesContent":["import { FC, useEffect } from 'react';\r\nimport SideFilter from '../../components/SideFilter/SideFilter';\r\nimport Headline from '../../components/Headline/Headline';\r\nimport CategoryMain from '../../components/CategoryMain/CategoryMain';\r\nimport SideSkeleton from '../../components/Skeletons/SideSkeleton';\r\nimport { THeadlineBreadcrumbs } from '../../@types/globalTypes';\r\nimport { TCategory } from '../../data/catalog.data';\r\nimport MobileSideWrapper from '../../components/MobileSideWrapper/MobileSideWrapper';\r\nimport { useScrollToTop } from '../../hooks/useScrollToTop';\r\nimport EmptyPage from '../EmptyPage/EmptyPage';\r\nimport { useErrorHandler } from '../../hooks/useErrorHandler';\r\nimport clsx from 'clsx';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useGetCategoryItemsQuery } from '../../redux/injected/injectedCategory';\r\nimport style from './Category.module.scss';\r\nimport { useSort } from '../../hooks/useSort';\r\n\r\nconst Category: FC<{ categoryData: TCategory[] }> = ({ categoryData }) => {\r\n\r\n    useScrollToTop();\r\n\r\n    const { type = '' } = useParams();\r\n\r\n    let res = {\r\n        title: '',\r\n        path: '',\r\n    }\r\n\r\n    categoryData.forEach((obj) => obj.list.forEach(obj => obj.path.split('/')[1] === type ? res = obj : null))\r\n\r\n    const { sortState } = useSort();\r\n\r\n    const queryParams = {\r\n        type: type,\r\n        sortParams: sortState.title\r\n    }\r\n\r\n    const { data = [], isSuccess, isLoading, isError, error } = useGetCategoryItemsQuery(queryParams);\r\n\r\n    const errorData = useErrorHandler({ error, isError });\r\n\r\n    const errorObj = {\r\n        title: errorData.status,\r\n        subtitle: 'Произошла ошибка',\r\n        descr: `Произошла ошибка при получении товаров ${res.title} попробуйте обновить страницу или зайдите позже`,\r\n        link_txt: 'Каталог',\r\n        path: '/catalog',\r\n    }\r\n\r\n    const emptyObj = {\r\n        title: 'Упс!',\r\n        subtitle: 'Категория пуста',\r\n        descr: `К сожалению в категории ${res.title} нет товаров, но мы уже работаем над расширением ассортимента`,\r\n        link_txt: 'Каталог',\r\n        path: '/catalog',\r\n    }\r\n\r\n    const breadcrumbsArr: THeadlineBreadcrumbs[] = [\r\n        { path: '/', title: 'Главная', type: 'link' },\r\n        { title: '→', type: 'seperator' },\r\n        { path: '/catalog', title: 'Каталог', type: 'link' },\r\n        { title: '→', type: 'seperator' },\r\n        { path: ' ', title: res.title, type: 'link' },\r\n    ]\r\n\r\n    const headData = {\r\n        breadcrumbs: breadcrumbsArr,\r\n        title: res.title,\r\n    }\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <section className={style['category']}>\r\n                <Headline {...headData} />\r\n                <div className={clsx(style['category-container'], 'container')}>\r\n                    {<SideSkeleton />}\r\n                    <CategoryMain data={data} isLoading={isLoading} />\r\n                </div>\r\n            </section>\r\n        );\r\n    } else if (isError) {\r\n        return <EmptyPage {...errorObj} />\r\n    } else if (isSuccess && !data.length) {\r\n        return <EmptyPage {...emptyObj} />\r\n    } else {\r\n        return (\r\n            <section className={style['category']}>\r\n                <Headline {...headData} />\r\n                <div className={clsx(style['category-container'], 'container')}>\r\n                    <MobileSideWrapper><SideFilter data={data} withSearch /></MobileSideWrapper>\r\n                    <CategoryMain data={data} isLoading={isLoading} />\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Category;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}