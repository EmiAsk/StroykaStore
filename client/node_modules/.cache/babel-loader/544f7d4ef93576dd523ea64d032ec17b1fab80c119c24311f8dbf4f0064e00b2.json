{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Marginal1\\\\Desktop\\\\react-stroyka\\\\client\\\\src\\\\components\\\\Card\\\\Card.tsx\",\n  _s = $RefreshSig$();\nimport { memo } from 'react';\nimport { useAddProduct } from '../../hooks/useAddProduct';\nimport { getCurrentPrice } from '../../utils/getCurrentPrice';\nimport { Link } from 'react-router-dom';\nimport style from './Card.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Card = /*#__PURE__*/_s( /*#__PURE__*/memo(_c = _s(_ref => {\n  _s();\n  let {\n    img,\n    title,\n    price,\n    discount,\n    horizontal = false,\n    discountAmount,\n    fixId,\n    provider,\n    id\n  } = _ref;\n  const currentPrice = getCurrentPrice(price, discountAmount);\n  const isDiscounted = discount === 'true';\n  const addProduct = useAddProduct();\n  const obj = {\n    img,\n    title,\n    finalPrice: isDiscounted ? currentPrice : price,\n    fixId,\n    provider,\n    count: 1,\n    id\n  };\n  const onClickAddProduct = obj => {\n    addProduct();\n  };\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: style['grid-item'],\n    children: /*#__PURE__*/_jsxDEV(\"article\", {\n      className: horizontal ? style['grid-item__content--h'] : style['grid-item__content'],\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/products/${id}`,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          loading: \"lazy\",\n          className: horizontal ? style['grid-item__image--h'] : style['grid-item__image'],\n          src: img,\n          alt: title,\n          width: 276,\n          height: 207\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style['grid-item__main'],\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/products/${id}`,\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: style['grid-item__title'],\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: style['grid-item__price'],\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: style['grid-item__price--current'],\n            children: [discount ? currentPrice : price, \" \\u20BD\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), discount && /*#__PURE__*/_jsxDEV(\"s\", {\n            className: style['grid-item__price--past'],\n            children: price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 38\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: style['grid-item__btn'],\n          onClick: () => onClickAddProduct(obj),\n          children: \"\\u0412 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), discount && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: style['grid-item__discount'],\n        children: [\"-\", discountAmount, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 30\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}, \"Wd6jmiK1l3HqM621cDeZ6vDSp4w=\", false, function () {\n  return [useAddProduct];\n})), \"Wd6jmiK1l3HqM621cDeZ6vDSp4w=\", false, function () {\n  return [useAddProduct];\n});\n_c2 = Card;\nexport default Card;\nvar _c, _c2;\n$RefreshReg$(_c, \"Card$memo\");\n$RefreshReg$(_c2, \"Card\");","map":{"version":3,"names":["memo","useAddProduct","getCurrentPrice","Link","style","Card","img","title","price","discount","horizontal","discountAmount","fixId","provider","id","currentPrice","isDiscounted","addProduct","obj","finalPrice","count","onClickAddProduct"],"sources":["C:/Users/Marginal1/Desktop/react-stroyka/client/src/components/Card/Card.tsx"],"sourcesContent":["import { FC, memo } from 'react';\r\nimport { TransmittedData } from '../../@types/models';\r\nimport { useAddProduct } from '../../hooks/useAddProduct';\r\nimport { getCurrentPrice } from '../../utils/getCurrentPrice';\r\nimport { Link } from 'react-router-dom';\r\nimport style from './Card.module.scss';\r\n\r\ntype TCardProps = {\r\n    id: string;\r\n    fixId: number;\r\n    img: string;\r\n    title: string;\r\n    provider: string;\r\n    rating: number;\r\n    price: number;\r\n    type: string;\r\n    discount: string;\r\n    discountAmount?: number;\r\n    horizontal?: boolean;\r\n}\r\n\r\nconst Card: FC<TCardProps> = memo((\r\n    {\r\n        img,\r\n        title,\r\n        price,\r\n        discount,\r\n        horizontal = false,\r\n        discountAmount,\r\n        fixId,\r\n        provider,\r\n        id\r\n    }) => {\r\n\r\n    const currentPrice: number = getCurrentPrice(price, discountAmount);\r\n    const isDiscounted: boolean = discount === 'true';\r\n\r\n    const addProduct = useAddProduct();\r\n\r\n    const obj: TransmittedData = {\r\n        img,\r\n        title,\r\n        finalPrice: isDiscounted ? currentPrice : price,\r\n        fixId,\r\n        provider,\r\n        count: 1,\r\n        id\r\n    };\r\n\r\n    const onClickAddProduct = (obj: TransmittedData) => {\r\n        addProduct()\r\n    }\r\n\r\n    return (\r\n        <li className={style['grid-item']}>\r\n            <article className={horizontal ? style['grid-item__content--h'] : style['grid-item__content']}>\r\n                <Link to={`/products/${id}`}>\r\n                    <img\r\n                        loading='lazy'\r\n                        className={horizontal ? style['grid-item__image--h'] : style['grid-item__image']}\r\n                        src={img}\r\n                        alt={title}\r\n                        width={276}\r\n                        height={207}\r\n                    />\r\n                </Link>\r\n                <div className={style['grid-item__main']}>\r\n                    <Link to={`/products/${id}`}>\r\n                        <h2 className={style['grid-item__title']}>{title}</h2>\r\n                    </Link>\r\n                    <div className={style['grid-item__price']}>\r\n                        <p className={style['grid-item__price--current']}>\r\n                            {discount ? currentPrice : price} ₽\r\n                        </p>\r\n                        {discount && <s className={style['grid-item__price--past']}>{price}</s>}\r\n                    </div>\r\n                    <button className={style['grid-item__btn']} onClick={() => onClickAddProduct(obj)}>В корзину</button>\r\n                </div>\r\n                {discount && <span className={style['grid-item__discount']}>-{discountAmount}%</span>}\r\n            </article>\r\n        </li>\r\n    );\r\n})\r\n\r\nexport default Card;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}