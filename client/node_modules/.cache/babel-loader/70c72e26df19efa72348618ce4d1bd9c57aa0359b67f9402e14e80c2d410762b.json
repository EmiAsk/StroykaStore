{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Marginal1\\\\Desktop\\\\react-stroyka\\\\client\\\\src\\\\components\\\\SideFilter\\\\SideFilter.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport ReactSlider from 'react-slider';\nimport Select from 'react-select';\nimport style from './SideFilter.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst options = [{\n  value: 1,\n  label: 'Аксон'\n}, {\n  value: 2,\n  label: 'Луга'\n}, {\n  value: 3,\n  label: 'ОКСО'\n}, {\n  value: 4,\n  label: 'Зенит'\n}, {\n  value: 5,\n  label: 'ТОРН'\n}];\nconst SideFilter = _ref => {\n  _s();\n  let {\n    data,\n    withSearch\n  } = _ref;\n  const [rangePrice, setRangePrice] = useState({\n    min: 0,\n    max: 1\n  });\n  const [provider, setProvider] = useState('');\n  const [rangeValue, setRangeValue] = useState([0, 1]);\n  const [searchValue, setSearchValue] = useState('');\n  useEffect(() => {\n    setRangePrice({\n      min: Math.min(...data.map(obj => obj.price)),\n      max: Math.max(...data.map(obj => obj.price))\n    });\n    setRangeValue([rangePrice.min, rangePrice.max]);\n  }, [data, rangePrice.max, rangePrice.min]);\n  const changeProvider = newValue => {\n    if (newValue !== null) {\n      setProvider(newValue.label);\n    }\n  };\n  const changeInputValue = str => {\n    setSearchValue(str);\n  };\n  const resetFilter = () => {\n    setRangeValue([rangePrice.min, rangePrice.max]);\n    setSearchValue('');\n    setProvider('0');\n  };\n  return /*#__PURE__*/_jsxDEV(\"aside\", {\n    className: style['category-side'],\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: style['side-main'],\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: style['title'],\n        children: \"\\u0426\\u0435\\u043D\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style['inputs-container'],\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: rangeValue[0],\n          className: style['range-input'],\n          onChange: e => setRangeValue([+e.target.value, rangeValue[1]]),\n          max: rangeValue[1] - 10,\n          min: rangePrice.min\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: rangeValue[1],\n          className: style['range-input'],\n          onChange: e => setRangeValue([rangeValue[0], +e.target.value]),\n          max: rangePrice.max,\n          min: rangeValue[0] + 10\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ReactSlider, {\n        className: \"range-slider\",\n        thumbClassName: \"range-slider__thumb\",\n        trackClassName: \"range-slider__track\",\n        defaultValue: [rangePrice.min, rangePrice.max],\n        renderThumb: props => /*#__PURE__*/_jsxDEV(\"div\", {\n          ...props,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: style['slider-decorate']\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 61\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 45\n        }, this),\n        onChange: value => setRangeValue(value),\n        pearling: true,\n        value: rangeValue,\n        minDistance: 0,\n        max: rangePrice.max,\n        min: rangePrice.min\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), withSearch && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: style['title'],\n          children: \"\\u041F\\u043E\\u0438\\u0441\\u043A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: style['search'],\n          onChange: e => changeInputValue(e.target.value),\n          value: searchValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: style['title'],\n        children: \"\\u041F\\u043E\\u0441\\u0442\\u0430\\u0432\\u0449\\u0438\\u043A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        options: options,\n        onChange: newValue => changeProvider(newValue),\n        defaultValue: options[0],\n        isSearchable: true,\n        name: \"providers\",\n        classNamePrefix: 'select',\n        escapeClearsValue: true,\n        value: options[+provider]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style['side-footer'],\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: style['submit'],\n        children: \"\\u041F\\u0440\\u0438\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: style['cancel'],\n        onClick: resetFilter,\n        children: \"\\u0421\\u0431\\u0440\\u043E\\u0441\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n_s(SideFilter, \"i9t5ijUqofsqBA4oKKQkY4jF20o=\");\n_c = SideFilter;\nexport default SideFilter;\nvar _c;\n$RefreshReg$(_c, \"SideFilter\");","map":{"version":3,"names":["useState","useEffect","ReactSlider","Select","style","options","value","label","SideFilter","data","withSearch","rangePrice","setRangePrice","min","max","provider","setProvider","rangeValue","setRangeValue","searchValue","setSearchValue","Math","map","obj","price","changeProvider","newValue","changeInputValue","str","resetFilter","e","target","props"],"sources":["C:/Users/Marginal1/Desktop/react-stroyka/client/src/components/SideFilter/SideFilter.tsx"],"sourcesContent":["import { FC, useState, useEffect } from 'react';\r\nimport { ProductModel } from '../../@types/models';\r\nimport ReactSlider from 'react-slider';\r\nimport Select, { SingleValue } from 'react-select'\r\nimport style from './SideFilter.module.scss';\r\n\r\ntype SideFilterProps = {\r\n    data: ProductModel[]\r\n    withSearch: boolean\r\n}\r\n\r\nconst options = [\r\n    { value: 1, label: 'Аксон' },\r\n    { value: 2, label: 'Луга' },\r\n    { value: 3, label: 'ОКСО' },\r\n    { value: 4, label: 'Зенит' },\r\n    { value: 5, label: 'ТОРН' },\r\n];\r\n\r\nconst SideFilter: FC<SideFilterProps> = ({ data, withSearch }) => {\r\n\r\n    const [rangePrice, setRangePrice] = useState({ min: 0, max: 1 });\r\n    const [provider, setProvider] = useState('');\r\n    const [rangeValue, setRangeValue] = useState<number[]>([0, 1]);\r\n    const [searchValue, setSearchValue] = useState('');\r\n\r\n    useEffect(() => {\r\n        setRangePrice({\r\n            min: Math.min(...data.map((obj) => obj.price)),\r\n            max: Math.max(...data.map((obj) => obj.price))\r\n        })\r\n        setRangeValue([rangePrice.min, rangePrice.max])\r\n    }, [data, rangePrice.max, rangePrice.min])\r\n\r\n    const changeProvider = (newValue: SingleValue<{ value: number; label: string; }>) => {\r\n        if (newValue !== null) {\r\n            setProvider(newValue.label)\r\n        }\r\n    }\r\n\r\n    const changeInputValue = (str: string) => {\r\n        setSearchValue(str)\r\n    }\r\n\r\n    const resetFilter = () => {\r\n        setRangeValue([rangePrice.min, rangePrice.max]);\r\n        setSearchValue('');\r\n        setProvider('0');\r\n    }\r\n\r\n    return (\r\n\r\n        <aside className={style['category-side']} >\r\n            <div className={style['side-main']}>\r\n                <h2 className={style['title']}>Цена</h2>\r\n                <div className={style['inputs-container']}>\r\n                    <input\r\n                        type='number'\r\n                        value={rangeValue[0]}\r\n                        className={style['range-input']}\r\n                        onChange={(e) => setRangeValue([+e.target.value, rangeValue[1]])}\r\n                        max={rangeValue[1] - 10}\r\n                        min={rangePrice.min}\r\n                    />\r\n                    <input\r\n                        type='number'\r\n                        value={rangeValue[1]}\r\n                        className={style['range-input']}\r\n                        onChange={(e) => setRangeValue([rangeValue[0], +e.target.value])}\r\n                        max={rangePrice.max}\r\n                        min={rangeValue[0] + 10} />\r\n                </div>\r\n                <ReactSlider\r\n                    className='range-slider'\r\n                    thumbClassName='range-slider__thumb'\r\n                    trackClassName='range-slider__track'\r\n                    defaultValue={[rangePrice.min, rangePrice.max]}\r\n                    renderThumb={(props) => <div {...props}><div className={style['slider-decorate']}></div></div>}\r\n                    onChange={(value) => setRangeValue(value)}\r\n                    pearling\r\n                    value={rangeValue}\r\n                    minDistance={0}\r\n                    max={rangePrice.max}\r\n                    min={rangePrice.min}\r\n                />\r\n                {\r\n                    withSearch &&\r\n                    <>\r\n                        <h2 className={style['title']}>Поиск</h2>\r\n                        <input\r\n                            type='text'\r\n                            className={style['search']}\r\n                            onChange={(e) => changeInputValue(e.target.value)}\r\n                            value={searchValue} />\r\n                    </>\r\n                }\r\n                <h2 className={style['title']}>Поставщик</h2>\r\n                <Select\r\n                    options={options}\r\n                    onChange={(newValue) => changeProvider(newValue)}\r\n                    defaultValue={options[0]}\r\n                    isSearchable\r\n                    name='providers'\r\n                    classNamePrefix={'select'}\r\n                    escapeClearsValue\r\n                    value={options[+provider]} />\r\n            </div>\r\n            <div className={style['side-footer']}>\r\n                <button className={style['submit']}>Применить</button>\r\n                <button className={style['cancel']} onClick={resetFilter}>Сбросить</button>\r\n            </div>\r\n        </aside>\r\n    );\r\n}\r\n\r\nexport default SideFilter;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}