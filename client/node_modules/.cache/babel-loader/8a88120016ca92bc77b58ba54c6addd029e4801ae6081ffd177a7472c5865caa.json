{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useLayoutEffect } from \"react\";\nimport { useIsAuthQuery } from \"../redux/injected/injectedAuth\";\nexport const useIsAuth = () => {\n  _s();\n  const {\n    data,\n    isSuccess,\n    isError\n  } = useIsAuthQuery();\n  const [isCorrectToken, setIsCorrectToken] = useState(null);\n  useLayoutEffect(() => {\n    if (isSuccess) {\n      setIsCorrectToken(data.message === \"ok\");\n    } else if (isError) {\n      setIsCorrectToken(false);\n    }\n  }, [isSuccess, isError]);\n  if (isCorrectToken !== null) {\n    return isCorrectToken;\n  }\n};\n_s(useIsAuth, \"PZXHhA9gn6PDSkuk8D5J/PUaMAE=\", false, function () {\n  return [useIsAuthQuery];\n});","map":{"version":3,"names":["useState","useLayoutEffect","useIsAuthQuery","useIsAuth","data","isSuccess","isError","isCorrectToken","setIsCorrectToken","message"],"sources":["C:/Users/Marginal1/Desktop/react-stroyka/client/src/hooks/useIsAuth.ts"],"sourcesContent":["import { useEffect, useState, useLayoutEffect } from \"react\"\r\nimport { useIsAuthQuery } from \"../redux/injected/injectedAuth\"\r\n\r\nexport const useIsAuth = () => {\r\n\r\n    const { data, isSuccess, isError } = useIsAuthQuery();\r\n    const [isCorrectToken, setIsCorrectToken] = useState<boolean | null>(null);\r\n\r\n    useLayoutEffect(() => {\r\n        if (isSuccess) {\r\n            setIsCorrectToken(data.message === \"ok\")\r\n        } else if (isError) {\r\n            setIsCorrectToken(false)\r\n        }\r\n\r\n\r\n    }, [isSuccess, isError])\r\n\r\n    if (isCorrectToken !== null) {\r\n        return isCorrectToken\r\n    }\r\n}"],"mappings":";AAAA,SAAoBA,QAAQ,EAAEC,eAAe,QAAQ,OAAO;AAC5D,SAASC,cAAc,QAAQ,gCAAgC;AAE/D,OAAO,MAAMC,SAAS,GAAG,MAAM;EAAA;EAE3B,MAAM;IAAEC,IAAI;IAAEC,SAAS;IAAEC;EAAQ,CAAC,GAAGJ,cAAc,EAAE;EACrD,MAAM,CAACK,cAAc,EAAEC,iBAAiB,CAAC,GAAGR,QAAQ,CAAiB,IAAI,CAAC;EAE1EC,eAAe,CAAC,MAAM;IAClB,IAAII,SAAS,EAAE;MACXG,iBAAiB,CAACJ,IAAI,CAACK,OAAO,KAAK,IAAI,CAAC;IAC5C,CAAC,MAAM,IAAIH,OAAO,EAAE;MAChBE,iBAAiB,CAAC,KAAK,CAAC;IAC5B;EAGJ,CAAC,EAAE,CAACH,SAAS,EAAEC,OAAO,CAAC,CAAC;EAExB,IAAIC,cAAc,KAAK,IAAI,EAAE;IACzB,OAAOA,cAAc;EACzB;AACJ,CAAC;AAAA,GAlBYJ,SAAS;EAAA,QAEmBD,cAAc;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}