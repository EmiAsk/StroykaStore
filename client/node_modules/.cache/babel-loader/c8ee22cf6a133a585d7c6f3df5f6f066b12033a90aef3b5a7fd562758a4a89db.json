{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Marginal1\\\\Desktop\\\\react-stroyka\\\\client\\\\src\\\\components\\\\Discount\\\\Discount.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, memo } from 'react';\nimport Card from '../Card/Card';\nimport HorizontalSkeleton from '../Skeletons/HorizontalSkeleton';\nimport Skeleton from '../Skeletons/Skeleton';\nimport MarkIcon from '../../Icons/MarkIcon';\nimport ErrorSection from '../ErrorSection/ErrorSection';\nimport { useErrorHandler } from '../../hooks/useErrorHandler';\nimport clsx from 'clsx';\nimport { useGetDiscountedProductsQuery } from '../../redux/injected/injectedDiscount';\nimport style from './Discount.module.scss';\nimport { getToken } from '../../utils/getToken';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { createElement as _createElement } from \"react\";\nconst Discount = /*#__PURE__*/_s( /*#__PURE__*/memo(_c = _s(() => {\n  _s();\n  const {\n    data = [],\n    isLoading,\n    isFetching,\n    isError,\n    error\n  } = useGetDiscountedProductsQuery();\n  const errorData = useErrorHandler({\n    error,\n    isError\n  });\n  const [horizontal, setHorizontal] = useState(false);\n  useEffect(() => {\n    setHorizontal(window.innerWidth > 1100);\n  }, []);\n  const renderSkeleton = [...new Array(4)].map((_, index) => horizontal ? /*#__PURE__*/_jsxDEV(HorizontalSkeleton, {}, index, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 77\n  }, this) : /*#__PURE__*/_jsxDEV(Skeleton, {}, index, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 114\n  }, this));\n  const renderCards = data.map(item => /*#__PURE__*/_createElement(Card, {\n    ...item,\n    key: item.id,\n    horizontal: horizontal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 44\n    }\n  }));\n  const errorObj = {\n    errorCode: errorData.status,\n    errorMessage: 'Произошла ошибка при получении акционных товаров попробуйте обновить страницу или зайдите позже'\n  };\n  console.log(getToken());\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: clsx(style['discount'], 'mb80'),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: style['discount-headline'],\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: style['discount-title'],\n          children: \"\\u0410\\u043A\\u0446\\u0438\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: style['discount-btn'],\n          children: [\"\\u0412\\u0441\\u0435 \\u0430\\u043A\\u0446\\u0438\\u0438\", /*#__PURE__*/_jsxDEV(MarkIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), isError ? /*#__PURE__*/_jsxDEV(ErrorSection, {\n        ...errorObj\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 31\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: style['grid'],\n        children: isLoading || isFetching ? renderSkeleton : renderCards\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 64\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}, \"5iOLfgQzVGkYMUH45muSmuIl0xs=\", false, function () {\n  return [useGetDiscountedProductsQuery, useErrorHandler];\n})), \"5iOLfgQzVGkYMUH45muSmuIl0xs=\", false, function () {\n  return [useGetDiscountedProductsQuery, useErrorHandler];\n});\n_c2 = Discount;\nexport default Discount;\nvar _c, _c2;\n$RefreshReg$(_c, \"Discount$memo\");\n$RefreshReg$(_c2, \"Discount\");","map":{"version":3,"names":["useState","useEffect","memo","Card","HorizontalSkeleton","Skeleton","MarkIcon","ErrorSection","useErrorHandler","clsx","useGetDiscountedProductsQuery","style","getToken","Discount","data","isLoading","isFetching","isError","error","errorData","horizontal","setHorizontal","window","innerWidth","renderSkeleton","Array","map","_","index","renderCards","item","id","errorObj","errorCode","status","errorMessage","console","log"],"sources":["C:/Users/Marginal1/Desktop/react-stroyka/client/src/components/Discount/Discount.tsx"],"sourcesContent":["import { FC, useState, useEffect, memo } from 'react';\r\nimport Card from '../Card/Card';\r\nimport HorizontalSkeleton from '../Skeletons/HorizontalSkeleton';\r\nimport Skeleton from '../Skeletons/Skeleton';\r\nimport MarkIcon from '../../Icons/MarkIcon';\r\nimport ErrorSection from '../ErrorSection/ErrorSection';\r\nimport { useErrorHandler } from '../../hooks/useErrorHandler';\r\nimport clsx from 'clsx';\r\nimport { useGetDiscountedProductsQuery } from '../../redux/injected/injectedDiscount';\r\nimport style from './Discount.module.scss';\r\nimport { getToken } from '../../utils/getToken';\r\n\r\nconst Discount: FC = memo(() => {\r\n\r\n    const { data = [], isLoading, isFetching, isError, error } = useGetDiscountedProductsQuery();\r\n\r\n    const errorData = useErrorHandler({ error, isError })\r\n\r\n    const [horizontal, setHorizontal] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setHorizontal(window.innerWidth > 1100)\r\n    }, [])\r\n\r\n    const renderSkeleton = [...new Array(4)].map((_, index) => horizontal ? <HorizontalSkeleton key={index} /> : <Skeleton key={index} />);\r\n    const renderCards = data.map((item) => <Card {...item} key={item.id} horizontal={horizontal} />);\r\n\r\n    const errorObj = {\r\n        errorCode: errorData.status,\r\n        errorMessage: 'Произошла ошибка при получении акционных товаров попробуйте обновить страницу или зайдите позже'\r\n    }\r\n\r\n    console.log(getToken())\r\n\r\n    return (\r\n        <section className={clsx(style['discount'], 'mb80')}>\r\n            <div className='container'>\r\n                <div className={style['discount-headline']}>\r\n                    <h2 className={style['discount-title']}>Акции</h2>\r\n                    <button className={style['discount-btn']}>\r\n                        Все акции\r\n                        <MarkIcon />\r\n                    </button>\r\n                </div>\r\n                {\r\n                    isError ? <ErrorSection {...errorObj} /> : <ul className={style['grid']}>\r\n                        {(isLoading || isFetching) ? renderSkeleton : renderCards}\r\n                    </ul>\r\n                }\r\n            </div>\r\n        </section >\r\n    );\r\n})\r\n\r\nexport default Discount;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}