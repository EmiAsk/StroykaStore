{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from 'react';\nimport { useAppDispatch } from './../redux/store';\nexport const useControlPopup = (state, setState) => {\n  _s();\n  const dispatch = useAppDispatch();\n  useEffect(() => {\n    if (state === true) {\n      const close = e => {\n        if (e.key === 'Escape') {\n          dispatch(setState(false));\n        }\n      };\n      window.addEventListener('keydown', close);\n      return () => window.removeEventListener('keydown', close);\n    }\n  }, [dispatch, setState, state]);\n  const closeModal = () => {\n    dispatch(setState(false));\n  };\n  return {\n    closeModal\n  };\n};\n_s(useControlPopup, \"DKdeqxp2QYw2p6z8/ErYMRK/Ubo=\", false, function () {\n  return [useAppDispatch];\n});","map":{"version":3,"names":["useEffect","useAppDispatch","useControlPopup","state","setState","dispatch","close","e","key","window","addEventListener","removeEventListener","closeModal"],"sources":["C:/Users/Marginal1/Desktop/react-stroyka/client/src/hooks/useControlPopup.ts"],"sourcesContent":["import { useEffect } from 'react';\r\nimport { useAppDispatch } from './../redux/store';\r\nimport { ActionCreatorWithPayload } from '@reduxjs/toolkit';\r\n\r\nexport const useControlPopup = (\r\n    state: boolean,\r\n    setState: ActionCreatorWithPayload<boolean>,\r\n) => {\r\n\r\n    const dispatch = useAppDispatch();\r\n\r\n    useEffect(() => {\r\n        if (state === true) {\r\n            const close = (e: KeyboardEvent) => {\r\n                if (e.key === 'Escape') {\r\n                    dispatch(setState(false))\r\n                }\r\n            }\r\n            window.addEventListener('keydown', close)\r\n\r\n            return () => window.removeEventListener('keydown', close)\r\n        }\r\n    }, [dispatch, setState, state]);\r\n\r\n    const closeModal = () => {\r\n        dispatch(setState(false))\r\n    }\r\n\r\n    return { closeModal }\r\n}"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,cAAc,QAAQ,kBAAkB;AAGjD,OAAO,MAAMC,eAAe,GAAG,CAC3BC,KAAc,EACdC,QAA2C,KAC1C;EAAA;EAED,MAAMC,QAAQ,GAAGJ,cAAc,EAAE;EAEjCD,SAAS,CAAC,MAAM;IACZ,IAAIG,KAAK,KAAK,IAAI,EAAE;MAChB,MAAMG,KAAK,GAAIC,CAAgB,IAAK;QAChC,IAAIA,CAAC,CAACC,GAAG,KAAK,QAAQ,EAAE;UACpBH,QAAQ,CAACD,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC7B;MACJ,CAAC;MACDK,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAEJ,KAAK,CAAC;MAEzC,OAAO,MAAMG,MAAM,CAACE,mBAAmB,CAAC,SAAS,EAAEL,KAAK,CAAC;IAC7D;EACJ,CAAC,EAAE,CAACD,QAAQ,EAAED,QAAQ,EAAED,KAAK,CAAC,CAAC;EAE/B,MAAMS,UAAU,GAAG,MAAM;IACrBP,QAAQ,CAACD,QAAQ,CAAC,KAAK,CAAC,CAAC;EAC7B,CAAC;EAED,OAAO;IAAEQ;EAAW,CAAC;AACzB,CAAC;AAAA,GAzBYV,eAAe;EAAA,QAKPD,cAAc;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}